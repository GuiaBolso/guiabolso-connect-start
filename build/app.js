function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var e=new Map;function o(n){if(e.has(n))return e.get(n)}function t(n,o){e.set(n,o)}function r(n,e){if(null==n)return{};var o,t,r=function(n,e){if(null==n)return{};var o,t,r={},i=Object.keys(n);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||(r[o]=n[o]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(n,o)&&(r[o]=n[o])}return r}function i(n){var e,i,c,a=n.window,l=void 0===a?globalThis:a,s=r(n,["window"]),u=(i=(e=s).domain,c=e.onEmmiter,function(n){var e,t=n.origin,r=n.data;if(t===i){var a=null!=r?r:{},l=a.eventName,s=a.payload,u=void 0===s?{}:s;if(l){var d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};c({payload:u,eventName:l}),n(u)};null===(e=o("observer")[l])||void 0===e||e.forEach(d)}}});return l.addEventListener("message",u,!1),o("observer")||t("observer",{}),{on:function(n,e){o("observer")[n]||(o("observer")[n]=[]),o("observer")[n].push(e)},destroy:function(){l.removeEventListener("message",u),t("observer",void 0)}}}"object"!==("undefined"==typeof globalThis?"undefined":n(globalThis))&&(Object.prototype.__defineGetter__("__alloc__",(function(){return this})),__alloc__.globalThis=__alloc__,delete Object.prototype.__alloc__);function c(n){var e=n.container,o=n.src,t=n.config;if(e){globalThis.document.head.insertAdjacentHTML("beforeend","\n    <style ".concat("data-guiabolso-connect-embedded",">\n      #").concat("guiabolso-connect-embedded"," {\n        background: #ffffff;\n        border-radius: 6px;\n        border: 1px solid #f2f2f2;\n        box-shadow: 0px 0px 1px rgba(13, 13, 13, 0.2),\n          0px 2px 2px rgba(13, 13, 13, 0.14);\n      }\n    </style>\n  "));var r=null!=t?t:{},i=r.height,c=void 0===i?800:i,a=r.width,l=void 0===a?395:a;e.innerHTML='\n        <iframe\n          id="'.concat("guiabolso-connect-embedded",'"\n          frameborder="0"\n          src="').concat(o,'"\n          height="').concat(c,'"\n          width="').concat(l,'"\n        ></iframe>\n      ')}}function a(n){var e=n.container,o=n.onClick,t=n.config;if(e){var r=null!=t?t:{},i=r.allowIcon,c=void 0===i||i,a=r.label,l=void 0===a?"Conectar com Guiabolso":a;globalThis.document.head.insertAdjacentHTML("beforeend","\n        <style ".concat("data-gbc-style-button",">\n          @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap');\n    \n          #gbc-open {\n            align-items: center;\n            background-color: #250048;\n            border-radius: 0.5rem;\n            border: 0;\n            box-shadow: none;\n            box-sizing: border-box;\n            cursor: pointer;\n            display: inline-flex;\n            justify-content: center;\n            margin: 0;\n            min-height: 3rem;\n            min-width: 312px;\n            outline: 0;\n            padding: 0px 1.5rem;\n            position: relative;\n            user-select: none;\n          }\n    \n          #gbc-open .gbc-open__label {\n            pointer-events: none;\n            user-select: none;\n            line-height: 1.75;\n            letter-spacing: 0.02857em;\n            font-size: 1rem;\n            color: #ffffff;\n            box-sizing: border-box;\n            width: 100%;\n            align-items: inherit;\n            justify-content: inherit;\n            display: flex;\n            font-family: 'Open Sans';\n            font-weight: 600;\n            text-transform: none;\n          }\n    \n          #gbc-open .gbc-open__icon {\n            user-select: none;\n            width: 20;\n            height: 25;\n            fill: none;\n            box-sizing: border-box;\n            margin-right: 0.625rem;\n          }\n        </style>\n      "));var s=function(n){var e=n.iconElement,o=n.label;return'\n    <button id="gbc-open" type="button">\n      <span class="gbc-open__label">\n        '.concat(e,"\n        ").concat(o,"\n      </span>\n    </button>\n  ")}({iconElement:c?'\n    <svg \n        class="gbc-open__icon"\n        width="20"\n        height="25"\n        fill="none"\n    >\n        <path \n            d="M19.2094 9.25008L10.9592 12.6876V15.2501L17.2392 12.6876C17.1161 16.6251 13.9145 19.8126 10.0357 19.8126C6.09531 19.8126 2.83218 16.5001 2.83218 12.4376C2.83218 8.37508 6.03374 5.06258 10.0357 5.06258C11.6981 5.06258 12.8063 5.43758 13.9145 6.31258L16.4388 5.25008C15.0228 3.68758 12.7447 2.62508 10.0357 2.62508C4.67923 2.62508 0.307861 7.00008 0.307861 12.4376C0.307861 17.8751 4.67923 22.2501 9.97414 22.2501C15.269 22.2501 19.702 17.8126 19.702 12.4376C19.702 11.3126 19.5788 10.2501 19.2094 9.25008Z" \n            fill="#00C1EB"\n        >\n        </path>\n        <path\n            d="M19.702 5.12501L10.9592 8.81251V11.375L19.702 7.75001V5.12501Z"\n            fill="#F9386A"\n        >\n        </path>\n    </svg>':"",label:l});e.innerHTML=s;var u=globalThis.document.querySelector("#gbc-open");null==u||u.addEventListener("click",o)}}var l=function(n){return Boolean(/(frame-src|child-src|form-action|frame-ancestors|plugin-types|base-uri)/gim.test(null!=n?n:""))},s=["load","onboard","signup","bank_list","find_my_bank","bank_selected","bank_offline","synced","complete","back","exit","error"];function u(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.push.apply(o,t)}return o}function d(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach((function(e){b(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function b(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function f(n,e){if(null==n)return{};var o,t,r=function(n,e){if(null==n)return{};var o,t,r={},i=Object.keys(n);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||(r[o]=n[o]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(n,o)&&(r[o]=n[o])}return r}function p(n){var r=n.container,u=n.config,b=n.data,p=n.clientId,g=n.userTrackingId,m=n.callbackURL,v=n.fallbackURL,y=void 0===v?"":v,h=n.environment,w=void 0===h?"sandbox":h,O=function(n){return{production:"https://connect.guiabolso.com.br",sandbox:"https://connect.guiabolso.com.br"}[n]}("production");return Promise.race([fetch(document.location.href).then((function(n){return null==n?void 0:n.headers.get("Content-Security-Policy")})),new Promise((function(n){return document.addEventListener("securitypolicyviolation",(function(e){return n(null==e?void 0:e.originalPolicy)}))}))]).then(l).then((function(n){var l,v=n&&Boolean(r),h=null!=u?u:{},_=h.iframe,x=h.button,j=h.window,k=f(h,["iframe","button","window"]),P=(l=d(d(d({},b),k),{},{callbackURL:m,clientId:p,fallbackURL:y,userTrackingId:"sandbox"===w?"development":g,embedded:v}),"?".concat(Object.keys(l).map((function(n){return"".concat(n,"=").concat(encodeURIComponent(l[n]))})).join("&"))),C="".concat(O,"/#/integracao").concat(P),L=i({domain:O,onEmmiter:function(n){var e,t=n.eventName;["exit","complete"].includes(t)&&(o("windowParent")&&(null===(e=o("windowParent"))||void 0===e||e.close()))}}),S=function(){t("windowParent",window.open(C,"gbConnectWindow","width=".concat((null==j?void 0:j.width)||992,",height=").concat((null==j?void 0:j.height)||820)))};return v&&c({config:_,src:C,container:r}),v||a({config:x,container:r,onClick:S}),{on:L.on,openNewWindow:S,events:s,destroy:function(){setTimeout((function(){var n,o,i,c;e.forEach((function(n,o){e.delete(o)})),null===(n=globalThis.document)||void 0===n||null===(o=n.querySelector("[".concat("data-gbc-style-button","]")))||void 0===o||o.remove(),null===(i=globalThis.document)||void 0===i||null===(c=i.querySelector("[".concat("data-guiabolso-connect-embedded","]")))||void 0===c||c.remove(),null==r||r.remove(),L.destroy(),t("isDestroyed",!0)}),2e3)}}}))}t("isDestroyed",!1),exports.guiabolsoConnect=p,globalThis.guiabolsoConnect=p;