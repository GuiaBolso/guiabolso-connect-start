var n=require("query-string");function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}Object.defineProperty(exports,"__esModule",{value:!0});var t=void 0;exports.gbConnect=t;var o=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==e(n)&&"function"!=typeof n)return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=r?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=n[i]}o.default=n,t&&t.set(n,o);return o}(n),r={};Object.defineProperty(r,"__esModule",{value:!0});var i={};Object.defineProperty(i,"__esModule",{value:!0});var c=(f=void 0,i.IsCSPVersion2=f);i.verifyCSP=c;var a=function(n){return/(frame-src|child-src|form-action|frame-ancestors|plugin-types|base-uri)/gim.test(n)},f=a;i.IsCSPVersion2=f;c=function(n){document.addEventListener("securitypolicyviolation",(function(e){var t=null==e?void 0:e.originalPolicy,o=a(t);return n(o)})),fetch(document.location.href).then((function(e){var t=null==e?void 0:e.headers.get("Content-Security-Policy"),o=a(t);return n(o)}))},i.verifyCSP=c;var s=i;function u(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return u=function(){return n},n}Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in r&&r[n]===s[n]||Object.defineProperty(r,n,{enumerable:!0,get:function(){return s[n]}}))}));var l=function(){var n="https://connect.guiabolso.com.br",e=function(e){var t=o.stringify(e);return"".concat(n,"/#/integracao?").concat(t)},t=function(n){n&&window.open(n,"gbConnectWindow","width=992,height=800")},i=function(){var n=document.querySelector("body");null==n||n.insertAdjacentHTML("beforeend",'<div id="gbc-style">\n        '.concat("\n      <style>\n        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap');\n\n        #gbc-open {\n          align-items: center;\n          background-color: #250048;\n          border-radius: 0.5rem;\n          border: 0;\n          box-shadow: none;\n          box-sizing: border-box;\n          cursor: pointer;\n          display: inline-flex;\n          justify-content: center;\n          margin: 0;\n          min-height: 3rem;\n          min-width: 312px;\n          outline: 0;\n          padding: 0px 1.5rem;\n          position: relative;\n          user-select: none;\n        }\n\n        #gbc-open .gbc-open__label {\n          pointer-events: none;\n          user-select: none;\n          line-height: 1.75;\n          letter-spacing: 0.02857em;\n          font-size: 1rem;\n          color: #ffffff;\n          box-sizing: border-box;\n          width: 100%;\n          align-items: inherit;\n          justify-content: inherit;\n          display: flex;\n          font-family: 'Open Sans';\n          font-weight: 600;\n          text-transform: none;\n        }\n\n        #gbc-open .gbc-open__icon {\n          user-select: none;\n          width: 20;\n          height: 25;\n          fill: none;\n          box-sizing: border-box;\n          margin-right: 0.625rem;\n        }\n      </style>\n    ","\n        ").concat("\n      <style>\n        #gbc-iframe {\n          background: #ffffff;\n          border-radius: 6px;\n          border: 1px solid #f2f2f2;\n          box-shadow: 0px 0px 1px rgba(13, 13, 13, 0.2),\n            0px 2px 2px rgba(13, 13, 13, 0.14);\n        }\n      </style>\n    ","\n      </div>"))},c=function(n){var o=n.container,r=n.accessParameters,i=n.buttonConfig,c=void 0===i?{}:i;if(o){var a=e(r),f=c.icon,s=void 0===f||f,u=c.label,l=void 0===u?"Conectar com Guiabolso":u,d='\n      <button id="gbc-open" type="button">\n        <span class="gbc-open__label">\n          '.concat(s?'<svg class="gbc-open__icon" width="20" height="25" fill="none"><path d="M19.2094 9.25008L10.9592 12.6876V15.2501L17.2392 12.6876C17.1161 16.6251 13.9145 19.8126 10.0357 19.8126C6.09531 19.8126 2.83218 16.5001 2.83218 12.4376C2.83218 8.37508 6.03374 5.06258 10.0357 5.06258C11.6981 5.06258 12.8063 5.43758 13.9145 6.31258L16.4388 5.25008C15.0228 3.68758 12.7447 2.62508 10.0357 2.62508C4.67923 2.62508 0.307861 7.00008 0.307861 12.4376C0.307861 17.8751 4.67923 22.2501 9.97414 22.2501C15.269 22.2501 19.702 17.8126 19.702 12.4376C19.702 11.3126 19.5788 10.2501 19.2094 9.25008Z" fill="#00C1EB"></path><path d="M19.702 5.12501L10.9592 8.81251V11.375L19.702 7.75001V5.12501Z" fill="#F9386A"></path></svg>':"","\n          ").concat(l,"\n        </span>\n      </button>\n    ");o.insertAdjacentHTML("beforeend",d),o.addEventListener("click",(function(n){"gbc-open"===n.target.id&&t(a)}))}},a=function(n){var t=n.container,o=n.accessParameters,r=n.iframeConfig,i=void 0===r?{height:800,width:395}:r;if(t){var c=i.height,a=i.width,f=e(o),s='\n      <iframe\n        id="gbc-iframe"\n        frameborder="0"\n        src="'.concat(f,'"\n        height="').concat(c,'"\n        width="').concat(a,'"\n      ></iframe>\n    ');t.insertAdjacentHTML("beforeend",s)}},f=function(e){var t,o=null==e||null===(t=e.data)||void 0===t?void 0:t.oauthcode,r=document.querySelector("#gbc-iframe");(null==e?void 0:e.origin)===n&&o&&(null==r||r.remove())};return{start:function(n){var e=n.accessParameters,t=n.container,o=n.buttonConfig,s=n.iframeConfig;i(),(0,r.verifyCSP)((function(n){if(n)return a({container:t,accessParameters:e,iframeConfig:s}),void window.addEventListener("message",f,!1);c({container:t,accessParameters:e,buttonConfig:o})}))},createAccessUrl:e,openPopup:t,addStyleInPage:i,renderButton:c,renderIframe:a,closeIframeAfterReceiveOAuthcode:f}};t=l,exports.gbConnect=t,window.gbConnect=l;